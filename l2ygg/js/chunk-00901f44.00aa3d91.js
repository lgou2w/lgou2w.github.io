(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00901f44"],{"26e5":function(t,e,a){},"4bd4":function(t,e,a){"use strict";a("26e5");var i=a("94ab");e["a"]={name:"v-form",mixins:[Object(i["b"])("form")],inheritAttrs:!1,props:{value:Boolean,lazyValidation:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(){var t=Object.values(this.errorBag).includes(!0);this.$emit("input",!t)},deep:!0,immediate:!0}},methods:{watchInput:function(t){var e=this,a=function(t){return t.$watch("hasError",function(a){e.$set(e.errorBag,t._uid,a)},{immediate:!0})},i={_uid:t._uid,valid:void 0,shouldValidate:void 0};return this.lazyValidation?i.shouldValidate=t.$watch("shouldValidate",function(n){n&&(e.errorBag.hasOwnProperty(t._uid)||(i.valid=a(t)))}):i.valid=a(t),i},validate:function(){var t=this.inputs.filter(function(t){return!t.validate(!0)}).length;return!t},reset:function(){for(var t=this,e=this.inputs.length;e--;)this.inputs[e].reset();this.lazyValidation&&setTimeout(function(){t.errorBag={}},0)},resetValidation:function(){for(var t=this,e=this.inputs.length;e--;)this.inputs[e].resetValidation();this.lazyValidation&&setTimeout(function(){t.errorBag={}},0)},register:function(t){var e=this.watchInput(t);this.inputs.push(t),this.watchers.push(e)},unregister:function(t){var e=this.inputs.find(function(e){return e._uid===t._uid});if(e){var a=this.watchers.find(function(t){return t._uid===e._uid});a.valid&&a.valid(),a.shouldValidate&&a.shouldValidate(),this.watchers=this.watchers.filter(function(t){return t._uid!==e._uid}),this.inputs=this.inputs.filter(function(t){return t._uid!==e._uid}),this.$delete(this.errorBag,e._uid)}}},render:function(t){var e=this;return t("form",{staticClass:"v-form",attrs:Object.assign({novalidate:!0},this.$attrs),on:{submit:function(t){return e.$emit("submit",t)}}},this.$slots.default)}}},7514:function(t,e,a){"use strict";var i=a("5ca1"),n=a("0a49")(5),s="find",r=!0;s in[]&&Array(1)[s](function(){r=!1}),i(i.P+i.F*r,"Array",{find:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")(s)},"790f":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("Snackbar",{ref:"snackbar"}),a("v-layout",{staticClass:"grid-player",attrs:{wrap:""}},[a("UserPlayerContent",{ref:"player",staticClass:"xs12 md7",attrs:{players:t.players},on:{add:t.add,edit:t.edit,del:t.del,show:t.show}}),a("UserPlayerContentDialog",{ref:"dialog",on:{submit:t.submit}}),a("UserPreviewer",{ref:"previewer",staticClass:"xs12 md5",attrs:{title:"模型预览",subtitle:"(选中左侧角色预览)"}})],1)],1)},n=[],s=(a("7f7f"),a("7514"),a("96cf"),a("3b8d")),r=a("18f8"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-flex",[a("v-toolbar",{staticClass:"elevation-1",attrs:{dense:"",flat:"",color:"white"}},[a("v-toolbar-title",{staticClass:"subheading"},[t._v("我的角色")]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.$emit("add")}}},[a("v-icon",[t._v("mdi-account-plus")])],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.players,"item-key":"id","rows-per-page-text":"每页行数"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("tr",{staticStyle:{cursor:"pointer"},on:{click:function(a){return t.$emit("show",e.item)}}},[a("td",[t._v(t._s(e.item.id))]),a("td",[t._v(t._s(e.item.name))]),a("td",[t._v(t._s(e.item.model))]),a("td",{staticClass:"layout px-0 justify-end toolbar-actions"},[a("v-icon",{on:{click:function(a){return a.stopPropagation(),t.$emit("edit",e.item)}}},[t._v("mdi-pencil")]),a("v-icon",{on:{click:function(a){return a.stopPropagation(),t.$emit("del",e.item)}}},[t._v("mdi-delete")])],1)])]}},{key:"no-data",fn:function(){return[a("td",{staticClass:"text-xs-center",attrs:{colspan:"4"}},[t._v("没有任何角色数据")])]},proxy:!0}])})],1)},l=[],c={name:"UserPlayerContent",props:{players:{type:Array,default:function(){return[]}}},data:function(){return{headers:[{text:"ID",value:"id"},{text:"名称",value:"name"},{text:"模型",value:"model"},{text:"操作",value:"actions",align:"right",sortable:!1}]}}},u=c,d=(a("8851"),a("2877")),h=a("6544"),f=a.n(h),g=a("8336"),p=(a("8895"),a("fdb8"),a("afdd")),m=a("9d26"),v=a("b56d"),y=a("60e6"),b=a("6a18"),P=a("7dd3"),$=a("80d2"),x=a("d9bd"),w=function(){function t(t,e){var a=[],i=!0,n=!1,s=void 0;try{for(var r,o=t[Symbol.iterator]();!(i=(r=o.next()).done);i=!0)if(a.push(r.value),e&&a.length===e)break}catch(l){n=!0,s=l}finally{try{!i&&o["return"]&&o["return"]()}finally{if(n)throw s}}return a}return function(e,a){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function _(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}var S={name:"data-iterable",mixins:[y["a"],P["a"],b["a"]],props:{expand:Boolean,hideActions:Boolean,disableInitialSort:Boolean,mustSort:Boolean,noResultsText:{type:String,default:"$vuetify.dataIterator.noResultsText"},nextIcon:{type:String,default:"$vuetify.icons.next"},prevIcon:{type:String,default:"$vuetify.icons.prev"},rowsPerPageItems:{type:Array,default:function(){return[5,10,25,{text:"$vuetify.dataIterator.rowsPerPageAll",value:-1}]}},rowsPerPageText:{type:String,default:"$vuetify.dataIterator.rowsPerPageText"},selectAll:[Boolean,String],search:{required:!1},filter:{type:Function,default:function(t,e){return null!=t&&"boolean"!==typeof t&&-1!==t.toString().toLowerCase().indexOf(e)}},customFilter:{type:Function,default:function(t,e,a){return e=e.toString().toLowerCase(),""===e.trim()?t:t.filter(function(t){return Object.keys(t).some(function(i){return a(t[i],e)})})}},customSort:{type:Function,default:function(t,e,a){return null===e?t:t.sort(function(t,i){var n=Object($["j"])(t,e),s=Object($["j"])(i,e);if(a){var r=[s,n];n=r[0],s=r[1]}if(!isNaN(n)&&!isNaN(s))return n-s;if(null===n&&null===s)return 0;var o=[n,s].map(function(t){return(t||"").toString().toLocaleLowerCase()}),l=w(o,2);return n=l[0],s=l[1],n>s?1:n<s?-1:0})}},value:{type:Array,default:function(){return[]}},items:{type:Array,required:!0,default:function(){return[]}},totalItems:{type:Number,default:null},itemKey:{type:String,default:"id"},pagination:{type:Object,default:function(){}}},data:function(){return{searchLength:0,defaultPagination:{descending:!1,page:1,rowsPerPage:5,sortBy:null,totalItems:0},expanded:{},actionsClasses:"v-data-iterator__actions",actionsRangeControlsClasses:"v-data-iterator__actions__range-controls",actionsSelectClasses:"v-data-iterator__actions__select",actionsPaginationClasses:"v-data-iterator__actions__pagination"}},computed:{computedPagination:function(){return this.hasPagination?this.pagination:this.defaultPagination},computedRowsPerPageItems:function(){var t=this;return this.rowsPerPageItems.map(function(e){return Object($["n"])(e)?Object.assign({},e,{text:t.$vuetify.t(e.text)}):{value:e,text:Number(e).toLocaleString(t.$vuetify.lang.current)}})},hasPagination:function(){var t=this.pagination||{};return Object.keys(t).length>0},hasSelectAll:function(){return void 0!==this.selectAll&&!1!==this.selectAll},itemsLength:function(){return this.hasSearch?this.searchLength:this.totalItems||this.items.length},indeterminate:function(){return this.hasSelectAll&&this.someItems&&!this.everyItem},everyItem:function(){var t=this;return this.filteredItems.length&&this.filteredItems.every(function(e){return t.isSelected(e)})},someItems:function(){var t=this;return this.filteredItems.some(function(e){return t.isSelected(e)})},getPage:function(){var t=this.computedPagination.rowsPerPage;return t===Object(t)?t.value:t},pageStart:function(){return-1===this.getPage?0:(this.computedPagination.page-1)*this.getPage},pageStop:function(){return-1===this.getPage?this.itemsLength:this.computedPagination.page*this.getPage},filteredItems:function(){return this.filteredItemsImpl()},selected:function(){for(var t={},e=0;e<this.value.length;e++){var a=Object($["j"])(this.value[e],this.itemKey);t[a]=!0}return t},hasSearch:function(){return null!=this.search}},watch:{items:function(){var t=this;this.pageStart>=this.itemsLength&&this.resetPagination();var e=new Set(this.items.map(function(e){return Object($["j"])(e,t.itemKey)})),a=this.value.filter(function(a){return e.has(Object($["j"])(a,t.itemKey))});a.length!==this.value.length&&this.$emit("input",a)},search:function(){var t=this;this.$nextTick(function(){t.updatePagination({page:1,totalItems:t.itemsLength})})},"computedPagination.sortBy":"resetPagination","computedPagination.descending":"resetPagination"},methods:{initPagination:function(){this.rowsPerPageItems.length?this.defaultPagination.rowsPerPage=this.rowsPerPageItems[0]:Object(x["c"])("The prop 'rows-per-page-items' can not be empty",this),this.defaultPagination.totalItems=this.items.length,this.updatePagination(Object.assign({},this.defaultPagination,this.pagination))},updatePagination:function(t){var e=this.hasPagination?this.pagination:this.defaultPagination,a=Object.assign({},e,t);this.$emit("update:pagination",a),this.hasPagination||(this.defaultPagination=a)},isSelected:function(t){return this.selected[Object($["j"])(t,this.itemKey)]},isExpanded:function(t){return this.expanded[Object($["j"])(t,this.itemKey)]},filteredItemsImpl:function(){if(this.totalItems)return this.items;var t=this.items.slice();if(this.hasSearch){for(var e=arguments.length,a=Array(e),i=0;i<e;i++)a[i]=arguments[i];t=this.customFilter.apply(this,[t,this.search,this.filter].concat(_(a))),this.searchLength=t.length}return t=this.customSort(t,this.computedPagination.sortBy,this.computedPagination.descending),this.hideActions&&!this.hasPagination?t:t.slice(this.pageStart,this.pageStop)},resetPagination:function(){1!==this.computedPagination.page&&this.updatePagination({page:1})},sort:function(t){var e=this.computedPagination,a=e.sortBy,i=e.descending;null===a?this.updatePagination({sortBy:t,descending:!1}):a!==t||i?a!==t?this.updatePagination({sortBy:t,descending:!1}):this.mustSort?this.updatePagination({sortBy:t,descending:!1}):this.updatePagination({sortBy:null,descending:null}):this.updatePagination({descending:!0})},toggle:function(t){for(var e=this,a=Object.assign({},this.selected),i=0;i<this.filteredItems.length;i++){var n=Object($["j"])(this.filteredItems[i],this.itemKey);a[n]=t}this.$emit("input",this.items.filter(function(t){var i=Object($["j"])(t,e.itemKey);return a[i]}))},createProps:function(t,e){var a=this,i={item:t,index:e},n=this.itemKey,s=Object($["j"])(t,n);return Object.defineProperty(i,"selected",{get:function(){return a.selected[s]},set:function(e){null==s&&Object(x["c"])('"'+n+'" attribute must be defined for item',a);var i=a.value.slice();e?i.push(t):i=i.filter(function(t){return Object($["j"])(t,n)!==s}),a.$emit("input",i)}}),Object.defineProperty(i,"expanded",{get:function(){return a.expanded[s]},set:function(t){if(null==s&&Object(x["c"])('"'+n+'" attribute must be defined for item',a),!a.expand)for(var e in a.expanded)a.expanded.hasOwnProperty(e)&&a.$set(a.expanded,e,!1);a.$set(a.expanded,s,t)}}),i},genItems:function(){if(!this.itemsLength&&!this.items.length){var t=this.$slots["no-data"]||this.$vuetify.t(this.noDataText);return[this.genEmptyItems(t)]}if(!this.filteredItems.length){var e=this.$slots["no-results"]||this.$vuetify.t(this.noResultsText);return[this.genEmptyItems(e)]}return this.genFilteredItems()},genPrevIcon:function(){var t=this;return this.$createElement(p["a"],{props:{disabled:1===this.computedPagination.page,icon:!0,flat:!0},on:{click:function(){var e=t.computedPagination.page;t.updatePagination({page:e-1})}},attrs:{"aria-label":this.$vuetify.t("$vuetify.dataIterator.prevPage")}},[this.$createElement(m["a"],this.$vuetify.rtl?this.nextIcon:this.prevIcon)])},genNextIcon:function(){var t=this,e=this.computedPagination,a=e.rowsPerPage<0||e.page*e.rowsPerPage>=this.itemsLength||this.pageStop<0;return this.$createElement(p["a"],{props:{disabled:a,icon:!0,flat:!0},on:{click:function(){var e=t.computedPagination.page;t.updatePagination({page:e+1})}},attrs:{"aria-label":this.$vuetify.t("$vuetify.dataIterator.nextPage")}},[this.$createElement(m["a"],this.$vuetify.rtl?this.prevIcon:this.nextIcon)])},genSelect:function(){var t=this;return this.$createElement("div",{class:this.actionsSelectClasses},[this.$vuetify.t(this.rowsPerPageText),this.$createElement(v["b"],{attrs:{"aria-label":this.$vuetify.t(this.rowsPerPageText)},props:{items:this.computedRowsPerPageItems,value:this.computedPagination.rowsPerPage,hideDetails:!0,menuProps:{auto:!0,dark:this.dark,light:this.light,minWidth:"75px"}},on:{input:function(e){t.updatePagination({page:1,rowsPerPage:e})}}})])},genPagination:function(){var t=this,e="–";if(this.itemsLength){var a,i=this.itemsLength<this.pageStop||this.pageStop<0?this.itemsLength:this.pageStop;e=this.$scopedSlots.pageText?this.$scopedSlots.pageText({pageStart:this.pageStart+1,pageStop:i,itemsLength:this.itemsLength}):(a=this.$vuetify).t.apply(a,["$vuetify.dataIterator.pageText"].concat(_([this.pageStart+1,i,this.itemsLength].map(function(e){return Number(e).toLocaleString(t.$vuetify.lang.current)}))))}return this.$createElement("div",{class:this.actionsPaginationClasses},[e])},genActions:function(){var t=this.$createElement("div",{class:this.actionsRangeControlsClasses},[this.genPagination(),this.genPrevIcon(),this.genNextIcon()]);return[this.$createElement("div",{class:this.actionsClasses},[this.$slots["actions-prepend"]?this.$createElement("div",{},this.$slots["actions-prepend"]):null,this.rowsPerPageItems.length>1?this.genSelect():null,t,this.$slots["actions-append"]?this.$createElement("div",{},this.$slots["actions-append"]):null])]}}},I=a("41f4");function T(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}var j={props:{sortIcon:{type:String,default:"$vuetify.icons.sort"}},methods:{genTHead:function(){var t=this;if(!this.hideHeaders){var e=[];if(this.$scopedSlots.headers){var a=this.$scopedSlots.headers({headers:this.headers,indeterminate:this.indeterminate,all:this.everyItem});e=[this.hasTag(a,"th")?this.genTR(a):a,this.genTProgress()]}else{var i=this.headers.map(function(e,a){return t.genHeader(e,t.headerKey?e[t.headerKey]:a)}),n=this.$createElement(I["a"],{props:{dark:this.dark,light:this.light,color:!0===this.selectAll?"":this.selectAll,hideDetails:!0,inputValue:this.everyItem,indeterminate:this.indeterminate},on:{change:this.toggle}});this.hasSelectAll&&i.unshift(this.$createElement("th",[n])),e=[this.genTR(i),this.genTProgress()]}return this.$createElement("thead",[e])}},genHeader:function(t,e){var a=[this.$scopedSlots.headerCell?this.$scopedSlots.headerCell({header:t}):t[this.headerText]];return this.$createElement.apply(this,["th"].concat(T(this.genHeaderData(t,a,e))))},genHeaderData:function(t,e,a){var i=["column"],n={key:a,attrs:{role:"columnheader",scope:"col",width:t.width||null,"aria-label":t[this.headerText]||"","aria-sort":"none"}};return null==t.sortable||t.sortable?this.genHeaderSortingData(t,e,n,i):n.attrs["aria-label"]+=": Not sorted.",i.push("text-xs-"+(t.align||"left")),Array.isArray(t.class)?i.push.apply(i,T(t.class)):t.class&&i.push(t.class),n.class=i,[n,e]},genHeaderSortingData:function(t,e,a,i){var n=this;"value"in t||Object(x["c"])("Headers must have a value property that corresponds to a value in the v-model array",this),a.attrs.tabIndex=0,a.on={click:function(){n.expanded={},n.sort(t.value)},keydown:function(e){32===e.keyCode&&(e.preventDefault(),n.sort(t.value))}},i.push("sortable");var s=this.$createElement(m["a"],{props:{small:!0}},this.sortIcon);t.align&&"left"!==t.align?e.unshift(s):e.push(s);var r=this.computedPagination,o=r.sortBy===t.value;o?(i.push("active"),r.descending?(i.push("desc"),a.attrs["aria-sort"]="descending",a.attrs["aria-label"]+=": Sorted descending. Activate to remove sorting."):(i.push("asc"),a.attrs["aria-sort"]="ascending",a.attrs["aria-label"]+=": Sorted ascending. Activate to sort descending.")):a.attrs["aria-label"]+=": Not sorted. Activate to sort ascending."}}},C=a("163e"),A={methods:{genTBody:function(){var t=this.genItems();return this.$createElement("tbody",t)},genExpandedRow:function(t){var e=[];if(this.isExpanded(t.item)){var a=this.$createElement("div",{class:"v-datatable__expand-content",key:Object($["j"])(t.item,this.itemKey)},[this.$scopedSlots.expand(t)]);e.push(a)}var i=this.$createElement("transition-group",{class:"v-datatable__expand-col",attrs:{colspan:this.headerColumns},props:{tag:"td"},on:Object(C["a"])("v-datatable__expand-col--expanded")},e);return this.genTR([i],{class:"v-datatable__expand-row"})},genFilteredItems:function(){if(!this.$scopedSlots.items)return null;for(var t=[],e=0,a=this.filteredItems.length;e<a;++e){var i=this.filteredItems[e],n=this.createProps(i,e),s=this.$scopedSlots.items(n);if(t.push(this.hasTag(s,"td")?this.genTR(s,{key:this.itemKey?Object($["j"])(n.item,this.itemKey):e,attrs:{active:this.isSelected(i)}}):s),this.$scopedSlots.expand){var r=this.genExpandedRow(n);t.push(r)}}return t},genEmptyItems:function(t){return this.hasTag(t,"tr")?t:this.hasTag(t,"td")?this.genTR(t):this.genTR([this.$createElement("td",{class:{"text-xs-center":"string"===typeof t},attrs:{colspan:this.headerColumns}},t)])}}},O={methods:{genTFoot:function(){if(!this.$slots.footer)return null;var t=this.$slots.footer,e=this.hasTag(t,"td")?this.genTR(t):t;return this.$createElement("tfoot",[e])},genActionsFooter:function(){return this.hideActions?null:this.$createElement("div",{class:this.classes},this.genActions())}}},k={methods:{genTProgress:function(){var t=this.$createElement("th",{staticClass:"column",attrs:{colspan:this.headerColumns}},[this.genProgress()]);return this.genTR([t],{staticClass:"v-datatable__progress"})}}},E=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},V=Object($["e"])("v-table__overflow"),B={name:"v-data-table",mixins:[S,j,A,O,k],props:{headers:{type:Array,default:function(){return[]}},headersLength:{type:Number},headerText:{type:String,default:"text"},headerKey:{type:String,default:null},hideHeaders:Boolean,rowsPerPageText:{type:String,default:"$vuetify.dataTable.rowsPerPageText"},customFilter:{type:Function,default:function(t,e,a,i){if(e=e.toString().toLowerCase(),""===e.trim())return t;var n=i.map(function(t){return t.value});return t.filter(function(t){return n.some(function(i){return a(Object($["j"])(t,i,t[i]),e)})})}}},data:function(){return{actionsClasses:"v-datatable__actions",actionsRangeControlsClasses:"v-datatable__actions__range-controls",actionsSelectClasses:"v-datatable__actions__select",actionsPaginationClasses:"v-datatable__actions__pagination"}},computed:{classes:function(){return E({"v-datatable v-table":!0,"v-datatable--select-all":!1!==this.selectAll},this.themeClasses)},filteredItems:function(){return this.filteredItemsImpl(this.headers)},headerColumns:function(){return this.headersLength||this.headers.length+(!1!==this.selectAll)}},created:function(){var t=this.headers.find(function(t){return!("sortable"in t)||t.sortable});this.defaultPagination.sortBy=!this.disableInitialSort&&t?t.value:null,this.initPagination()},methods:{hasTag:function(t,e){return Array.isArray(t)&&t.find(function(t){return t.tag===e})},genTR:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.$createElement("tr",e,t)}},render:function(t){var e=t(V,{},[t("table",{class:this.classes},[this.genTHead(),this.genTBody(),this.genTFoot()])]);return t("div",[e,this.genActionsFooter()])}},L=a("0e8f"),R=a("132d"),D=a("9910"),F=a("71d9"),K=a("2a7f"),N=Object(d["a"])(u,o,l,!1,null,"623787ac",null),H=N.exports;f()(N,{VBtn:g["a"],VDataTable:B,VFlex:L["a"],VIcon:R["a"],VSpacer:D["a"],VToolbar:F["a"],VToolbarTitle:K["a"]});var U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{persistent:"",width:"400px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"subheading"},[t._v(t._s(t.dialogTitle))]),a("v-card-text",[a("v-form",{ref:"form",staticClass:"layout wrap",attrs:{"lazy-validation":""}},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{label:t.name,rules:t.nameRules,"prepend-icon":"mdi-flag",disabled:t.readonly,counter:""},model:{value:t.editedPlayer.name,callback:function(e){t.$set(t.editedPlayer,"name",e)},expression:"editedPlayer.name"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-select",{attrs:{items:t.models,label:t.model,rules:t.modelRules,"prepend-icon":"mdi-tag",disabled:t.readonly},model:{value:t.editedPlayer.model,callback:function(e){t.$set(t.editedPlayer,"model",e)},expression:"editedPlayer.model"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{flat:"",color:"red darken-1"},on:{click:function(e){t.dialog=!1}}},[t._v("取消")]),a("v-btn",{attrs:{flat:"",color:"green darken-1"},on:{click:t.submit}},[t._v("确认")])],1)],1)],1)},z=[],q={name:"UserPlayerContentDialog",data:function(){return{editedPlayer:{id:0,name:"",model:""},defaultPlayer:{id:0,name:"",model:"Steve"},name:"* 昵称",nameRules:[function(t){return!!t||"请输入昵称!"},function(t){return/^([a-zA-Z0-9_]{3,16})$/.test(t)||"无效的昵称格式."}],model:"* 模型",modelRules:[function(t){return!!t||"请选择模型!"}],models:["steve","alex"],action:"",loading:!1,readonly:!1,dialog:!1,dialogTitle:""}},methods:{show:function(t,e){var a=t.title,i=t.action,n=t.readonly;this.readonly=n,this.editedPlayer=Object.assign({},e||this.defaultPlayer),this.dialogTitle=a,this.dialog=!0,this.action=i},submit:function(t){t.preventDefault(),this.$refs.form.validate()&&(this.$emit("submit",{action:this.action,player:this.editedPlayer}),this.dialog=!1,this.dialogTitle="",this.action="")}}},J=q,W=a("b0af"),Z=a("99d9"),G=a("12b2"),M=a("169a"),Q=a("4bd4"),X=a("2677"),Y=Object(d["a"])(J,U,z,!1,null,null,null),tt=Y.exports;f()(Y,{VBtn:g["a"],VCard:W["a"],VCardActions:Z["a"],VCardText:Z["b"],VCardTitle:G["a"],VDialog:M["a"],VFlex:L["a"],VForm:Q["a"],VSelect:v["a"],VSpacer:D["a"],VTextField:X["a"]});var et=a("338f"),at={name:"UserPlayer",components:{Snackbar:r["a"],UserPlayerContent:H,UserPlayerContentDialog:tt,UserPreviewer:et["a"]},data:function(){return{players:[]}},mounted:function(){this.fetchPlayers()},methods:{fetchPlayers:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$store.dispatch("getPlayers").then(function(t){return e.players=t.data.data.players}).catch(function(t){return console.log(t)});case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),add:function(){this.$refs.dialog.show({action:"ADD",title:"创建新角色"})},edit:function(t){this.$refs.dialog.show({action:"EDIT",title:"编辑角色"},t)},del:function(t){this.$refs.dialog.show({action:"DEL",title:"删除将不可恢复，确认要删除吗？",readonly:!0},t)},show:function(t){},dispatchFailed:function(t){var e=t.message;t.response&&t.response.data.msg&&(e=t.response.data.msg),this.$refs.snackbar.show("error","操作失败: "+e)},submit:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){var a,i,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:a=e.action,i=e.player,t.t0=a,t.next="ADD"===t.t0?4:"EDIT"===t.t0?6:"DEL"===t.t0?8:10;break;case 4:return this.$store.dispatch("addPlayer",i).then(function(t){n.$refs.snackbar.show("success","创建新角色成功！"),n.players.push(t.data.data.player)}).catch(function(t){return n.dispatchFailed(t)}),t.abrupt("break",11);case 6:return this.$store.dispatch("editPlayer",i).then(function(){n.$refs.snackbar.show("success","修改角色成功！");var t=n.players.find(function(t){return t.id===i.id});t.name=i.name,t.model=i.model}).catch(function(t){return n.dispatchFailed(t)}),t.abrupt("break",11);case 8:return this.$store.dispatch("delPlayer",i).then(function(){n.$refs.snackbar.show("success","删除角色成功！");var t=n.players.indexOf(i);n.players.splice(t,1)}).catch(function(t){return n.dispatchFailed(t)}),t.abrupt("break",11);case 10:return t.abrupt("break",11);case 11:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()}},it=at,nt=(a("b08a"),a("a523")),st=a("a722"),rt=Object(d["a"])(it,i,n,!1,null,"7de27182",null);e["default"]=rt.exports;f()(rt,{VContainer:nt["a"],VLayout:st["a"]})},8851:function(t,e,a){"use strict";var i=a("caec"),n=a.n(i);n.a},8895:function(t,e,a){},a6b5:function(t,e,a){},b08a:function(t,e,a){"use strict";var i=a("a6b5"),n=a.n(i);n.a},caec:function(t,e,a){},fdb8:function(t,e,a){}}]);
//# sourceMappingURL=chunk-00901f44.00aa3d91.js.map